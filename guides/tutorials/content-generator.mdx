---
title: "Build a Content Generator"
description: "Create a versatile content generation tool with multiple output formats and templates"
---

## Overview

In this tutorial, you'll build a comprehensive content generation application that can create blog posts, social media content, marketing copy, and more. This demonstrates advanced prompting techniques and multiple integration patterns.

## What You'll Build

- **Multiple Content Types**: Blog posts, social media, marketing copy, emails
- **Template System**: Reusable content templates
- **Export Options**: Multiple output formats (Markdown, HTML, JSON)
- **Content History**: Save and manage generated content
- **Advanced Prompting**: Context-aware content generation
- **Batch Generation**: Generate multiple variations

## Project Setup

### 1. Create New Project

```bash
npx create-next-app@latest content-generator
cd content-generator
```

### 2. Install Dependencies

```bash
npm install lucide-react clsx tailwind-merge react-markdown rehype-highlight prismjs
```

### 3. Environment Setup

Create `.env.local`:

```env
NEXT_PUBLIC_SUNDAYPYJAMAS_API_KEY=spj_ai_your_api_key_here
```

## Core Components

### 1. API Service

Create `lib/api.js`:

```javascript
class ContentGeneratorAPI {
  constructor(apiKey) {
    this.apiKey = apiKey;
    this.baseURL = 'https://suite.sundaypyjamas.com/api/v1';
  }

  async generateContent({ type, prompt, context = {}, options = {} }) {
    const systemPrompts = {
      blog: `You are a professional content writer specializing in blog posts.
      Create engaging, SEO-optimized content that follows best practices.
      Use proper headings, subheadings, and formatting.`,

      social: `You are a social media expert. Create concise, engaging content
      optimized for social media platforms. Include relevant hashtags and calls-to-action.`,

      marketing: `You are a marketing copywriter. Create persuasive, conversion-focused
      copy that drives action. Focus on benefits, urgency, and clear value propositions.`,

      email: `You are an email marketing specialist. Create compelling email content
      with strong subject lines, engaging body copy, and clear calls-to-action.`
    };

    const messages = [
      {
        role: 'system',
        content: systemPrompts[type] || systemPrompts.blog
      },
      {
        role: 'user',
        content: this.buildPrompt(type, prompt, context, options)
      }
    ];

    const response = await fetch(`${this.baseURL}/chat`, {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${this.apiKey}`,
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        messages,
        model: options.model || 'llama-3.3-70b-versatile',
        temperature: options.temperature || 0.7,
        max_tokens: options.maxTokens || 2000
      })
    });

    if (!response.ok) {
      throw new Error(`API Error: ${response.status}`);
    }

    const data = await response.json();
    return {
      content: data.choices[0].message.content,
      usage: data.usage,
      id: data.id
    };
  }

  buildPrompt(type, prompt, context, options) {
    let fullPrompt = prompt;

    // Add context information
    if (context.targetAudience) {
      fullPrompt += `\n\nTarget Audience: ${context.targetAudience}`;
    }
    if (context.tone) {
      fullPrompt += `\n\nTone: ${context.tone}`;
    }
    if (context.length) {
      fullPrompt += `\n\nLength: ${context.length}`;
    }
    if (context.keywords) {
      fullPrompt += `\n\nKeywords to include: ${context.keywords.join(', ')}`;
    }

    // Add type-specific instructions
    const typeInstructions = {
      blog: '\n\nFormat as a complete blog post with title, introduction, body sections, and conclusion.',
      social: '\n\nFormat for social media with appropriate length and hashtags.',
      marketing: '\n\nFormat as marketing copy with headlines, body text, and calls-to-action.',
      email: '\n\nFormat as a complete email with subject line, greeting, body, and signature.'
    };

    fullPrompt += typeInstructions[type] || typeInstructions.blog;

    return fullPrompt;
  }

  async generateVariations(content, type, count = 3) {
    const messages = [
      {
        role: 'system',
        content: `You are a content optimization expert. Generate ${count} variations
        of the provided content. Each variation should maintain the core message but
        use different approaches, tones, or structures.`
      },
      {
        role: 'user',
        content: `Generate ${count} variations of this ${type} content:\n\n${content}`
      }
    ];

    const response = await fetch(`${this.baseURL}/chat`, {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${this.apiKey}`,
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({ messages })
    });

    if (!response.ok) {
      throw new Error(`API Error: ${response.status}`);
    }

    const data = await response.json();
    return data.choices[0].message.content;
  }
}

export const api = new ContentGeneratorAPI(process.env.NEXT_PUBLIC_SUNDAYPYJAMAS_API_KEY);
```

### 2. Content Templates

Create `lib/templates.js`:

```javascript
export const contentTemplates = {
  blog: [
    {
      name: 'How-To Guide',
      prompt: 'Write a comprehensive how-to guide about [TOPIC]. Include step-by-step instructions, tips, and common mistakes to avoid.',
      context: {
        tone: 'Educational and helpful',
        length: '1500-2000 words',
        structure: 'Introduction, Step-by-step guide, Tips & tricks, Conclusion'
      }
    },
    {
      name: 'Listicle Article',
      prompt: 'Create a listicle article about [TOPIC] with [NUMBER] items. Each item should include practical advice and examples.',
      context: {
        tone: 'Engaging and informative',
        length: '1200-1800 words',
        structure: 'Introduction, Numbered list with explanations, Conclusion'
      }
    },
    {
      name: 'Industry Analysis',
      prompt: 'Write an in-depth analysis of [TOPIC] in the industry. Include trends, challenges, opportunities, and future predictions.',
      context: {
        tone: 'Professional and analytical',
        length: '2000-2500 words',
        structure: 'Executive summary, Market analysis, Trends, Challenges, Future outlook'
      }
    }
  ],

  social: [
    {
      name: 'Thread Post',
      prompt: 'Create a compelling Twitter thread about [TOPIC]. Make it educational and engaging with 5-7 connected tweets.',
      context: {
        tone: 'Conversational',
        length: '280 characters per tweet',
        platform: 'Twitter'
      }
    },
    {
      name: 'Carousel Post',
      prompt: 'Design an Instagram carousel about [TOPIC] with 4-6 slides. Each slide should have engaging visuals and concise text.',
      context: {
        tone: 'Visual and engaging',
        length: '50-100 words per slide',
        platform: 'Instagram'
      }
    },
    {
      name: 'LinkedIn Article',
      prompt: 'Write a professional LinkedIn post about [TOPIC] that positions you as a thought leader in your industry.',
      context: {
        tone: 'Professional and authoritative',
        length: '800-1200 words',
        platform: 'LinkedIn'
      }
    }
  ],

  marketing: [
    {
      name: 'Product Launch',
      prompt: 'Create compelling marketing copy for launching [PRODUCT]. Include headlines, product benefits, and urgency drivers.',
      context: {
        tone: 'Persuasive and exciting',
        length: '300-500 words',
        goal: 'Drive conversions'
      }
    },
    {
      name: 'Email Campaign',
      prompt: 'Write persuasive email marketing copy for [OFFER]. Include subject line, preview text, and clear call-to-action.',
      context: {
        tone: 'Personal and benefit-focused',
        length: '200-400 words',
        goal: 'Drive email opens and clicks'
      }
    },
    {
      name: 'Landing Page',
      prompt: 'Create high-converting landing page copy for [SERVICE]. Include headline, subheadline, benefits, and CTA.',
      context: {
        tone: 'Benefit-focused and clear',
        length: '400-600 words',
        goal: 'Generate leads'
      }
    }
  ],

  email: [
    {
      name: 'Newsletter',
      prompt: 'Write an engaging newsletter email about [TOPIC]. Include compelling subject line and valuable content.',
      context: {
        tone: 'Friendly and informative',
        length: '400-600 words',
        goal: 'Build engagement'
      }
    },
    {
      name: 'Promotional Email',
      prompt: 'Create a promotional email for [OFFER]. Focus on benefits and create urgency for the offer.',
      context: {
        tone: 'Persuasive and action-oriented',
        length: '300-500 words',
        goal: 'Drive sales'
      }
    },
    {
      name: 'Welcome Email',
      prompt: 'Write a welcoming email for new subscribers/customers. Make them feel valued and excited to engage.',
      context: {
        tone: 'Warm and welcoming',
        length: '250-400 words',
        goal: 'Build relationship'
      }
    }
  ]
};

export const getTemplate = (type, templateName) => {
  return contentTemplates[type]?.find(template => template.name === templateName);
};
```

### 3. Main Content Generator Component

Create `components/ContentGenerator.jsx`:

```jsx
'use client';

import { useState } from 'react';
import { FileText, Share2, Download, Copy, RefreshCw } from 'lucide-react';
import ReactMarkdown from 'react-markdown';
import { api } from '../lib/api';
import { contentTemplates, getTemplate } from '../lib/templates';

export default function ContentGenerator() {
  const [contentType, setContentType] = useState('blog');
  const [selectedTemplate, setSelectedTemplate] = useState('');
  const [prompt, setPrompt] = useState('');
  const [context, setContext] = useState({
    targetAudience: '',
    tone: '',
    length: '',
    keywords: []
  });
  const [generatedContent, setGeneratedContent] = useState('');
  const [variations, setVariations] = useState([]);
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState(null);

  const contentTypes = [
    { id: 'blog', name: 'Blog Post', icon: '📝' },
    { id: 'social', name: 'Social Media', icon: '📱' },
    { id: 'marketing', name: 'Marketing Copy', icon: '🎯' },
    { id: 'email', name: 'Email', icon: '✉️' }
  ];

  const handleTemplateSelect = (templateName) => {
    const template = getTemplate(contentType, templateName);
    if (template) {
      setSelectedTemplate(templateName);
      setPrompt(template.prompt);
      setContext(prev => ({ ...prev, ...template.context }));
    }
  };

  const handleGenerate = async () => {
    if (!prompt.trim()) return;

    setIsLoading(true);
    setError(null);

    try {
      const result = await api.generateContent({
        type: contentType,
        prompt: prompt,
        context: context,
        options: {
          temperature: 0.7,
          maxTokens: 2000
        }
      });

      setGeneratedContent(result.content);
    } catch (err) {
      setError(err.message);
    } finally {
      setIsLoading(false);
    }
  };

  const handleGenerateVariations = async () => {
    if (!generatedContent) return;

    setIsLoading(true);
    setError(null);

    try {
      const result = await api.generateVariations(generatedContent, contentType, 3);
      setVariations(result.split('\n\n'));
    } catch (err) {
      setError(err.message);
    } finally {
      setIsLoading(false);
    }
  };

  const exportContent = (format) => {
    const timestamp = new Date().toISOString().slice(0, 10);
    const filename = `${contentType}-content-${timestamp}`;

    switch (format) {
      case 'markdown':
        const blob = new Blob([generatedContent], { type: 'text/markdown' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `${filename}.md`;
        a.click();
        break;
      case 'html':
        const htmlContent = `<html><body><pre>${generatedContent}</pre></body></html>`;
        const htmlBlob = new Blob([htmlContent], { type: 'text/html' });
        const htmlUrl = URL.createObjectURL(htmlBlob);
        const htmlA = document.createElement('a');
        htmlA.href = htmlUrl;
        htmlA.download = `${filename}.html`;
        htmlA.click();
        break;
      default:
        navigator.clipboard.writeText(generatedContent);
    }
  };

  return (
    <div className="min-h-screen bg-gray-50">
      <div className="max-w-7xl mx-auto px-4 py-8">
        <div className="mb-8">
          <h1 className="text-3xl font-bold text-gray-900 mb-2">
            AI Content Generator
          </h1>
          <p className="text-gray-600">
            Generate high-quality content for blogs, social media, marketing, and emails
          </p>
        </div>

        <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
          {/* Input Panel */}
          <div className="space-y-6">
            {/* Content Type Selection */}
            <div>
              <label className="block text-sm font-medium text-gray-700 mb-2">
                Content Type
              </label>
              <div className="grid grid-cols-2 gap-2">
                {contentTypes.map((type) => (
                  <button
                    key={type.id}
                    onClick={() => {
                      setContentType(type.id);
                      setSelectedTemplate('');
                      setPrompt('');
                    }}
                    className={`p-3 rounded-lg border-2 text-left transition-colors ${
                      contentType === type.id
                        ? 'border-blue-500 bg-blue-50'
                        : 'border-gray-200 hover:border-gray-300'
                    }`}
                  >
                    <span className="text-lg mr-2">{type.icon}</span>
                    {type.name}
                  </button>
                ))}
              </div>
            </div>

            {/* Template Selection */}
            <div>
              <label className="block text-sm font-medium text-gray-700 mb-2">
                Templates
              </label>
              <div className="space-y-2">
                {contentTemplates[contentType]?.map((template) => (
                  <button
                    key={template.name}
                    onClick={() => handleTemplateSelect(template.name)}
                    className={`w-full p-3 rounded-lg border text-left transition-colors ${
                      selectedTemplate === template.name
                        ? 'border-green-500 bg-green-50'
                        : 'border-gray-200 hover:border-gray-300'
                    }`}
                  >
                    <div className="font-medium">{template.name}</div>
                    <div className="text-sm text-gray-500 mt-1">
                      {template.prompt.slice(0, 60)}...
                    </div>
                  </button>
                ))}
              </div>
            </div>

            {/* Prompt Input */}
            <div>
              <label className="block text-sm font-medium text-gray-700 mb-2">
                Content Prompt
              </label>
              <textarea
                value={prompt}
                onChange={(e) => setPrompt(e.target.value)}
                placeholder="Enter your content requirements..."
                className="w-full h-32 p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              />
            </div>

            {/* Context Fields */}
            <div className="grid grid-cols-2 gap-4">
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">
                  Target Audience
                </label>
                <input
                  type="text"
                  value={context.targetAudience}
                  onChange={(e) => setContext(prev => ({ ...prev, targetAudience: e.target.value }))}
                  placeholder="e.g., Developers, Marketers"
                  className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500"
                />
              </div>
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">
                  Tone
                </label>
                <input
                  type="text"
                  value={context.tone}
                  onChange={(e) => setContext(prev => ({ ...prev, tone: e.target.value }))}
                  placeholder="e.g., Professional, Casual"
                  className="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500"
                />
              </div>
            </div>

            <button
              onClick={handleGenerate}
              disabled={isLoading || !prompt.trim()}
              className="w-full py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"
            >
              {isLoading ? (
                <RefreshCw className="w-4 h-4 animate-spin" />
              ) : (
                <FileText className="w-4 h-4" />
              )}
              Generate Content
            </button>
          </div>

          {/* Output Panel */}
          <div className="space-y-6">
            {error && (
              <div className="p-4 bg-red-50 border border-red-200 rounded-lg">
                <p className="text-red-700">{error}</p>
              </div>
            )}

            {generatedContent && (
              <div className="bg-white rounded-lg border">
                <div className="p-4 border-b flex justify-between items-center">
                  <h3 className="font-semibold text-gray-900">Generated Content</h3>
                  <div className="flex gap-2">
                    <button
                      onClick={() => exportContent('copy')}
                      className="p-2 text-gray-500 hover:text-gray-700"
                      title="Copy to clipboard"
                    >
                      <Copy className="w-4 h-4" />
                    </button>
                    <button
                      onClick={() => exportContent('markdown')}
                      className="p-2 text-gray-500 hover:text-gray-700"
                      title="Download as Markdown"
                    >
                      <Download className="w-4 h-4" />
                    </button>
                    <button
                      onClick={handleGenerateVariations}
                      disabled={isLoading}
                      className="p-2 text-gray-500 hover:text-gray-700 disabled:opacity-50"
                      title="Generate variations"
                    >
                      <RefreshCw className="w-4 h-4" />
                    </button>
                  </div>
                </div>
                <div className="p-4 max-h-96 overflow-y-auto">
                  <ReactMarkdown className="prose prose-sm max-w-none">
                    {generatedContent}
                  </ReactMarkdown>
                </div>
              </div>
            )}

            {variations.length > 0 && (
              <div className="bg-white rounded-lg border">
                <div className="p-4 border-b">
                  <h3 className="font-semibold text-gray-900">Content Variations</h3>
                </div>
                <div className="p-4 space-y-4 max-h-96 overflow-y-auto">
                  {variations.map((variation, index) => (
                    <div key={index} className="border rounded-lg p-3">
                      <h4 className="font-medium text-gray-700 mb-2">
                        Variation {index + 1}
                      </h4>
                      <ReactMarkdown className="prose prose-sm max-w-none">
                        {variation}
                      </ReactMarkdown>
                    </div>
                  ))}
                </div>
              </div>
            )}
          </div>
        </div>
      </div>
    </div>
  );
}
```

## Advanced Features

### 1. Content History Management

Create `lib/contentHistory.js`:

```javascript
export class ContentHistory {
  static saveContent(content, metadata) {
    const history = this.getHistory();
    const item = {
      id: Date.now().toString(),
      content,
      metadata: {
        ...metadata,
        createdAt: new Date().toISOString()
      }
    };

    history.unshift(item);
    localStorage.setItem('content-history', JSON.stringify(history.slice(0, 50)));
    return item.id;
  }

  static getHistory() {
    try {
      return JSON.parse(localStorage.getItem('content-history') || '[]');
    } catch {
      return [];
    }
  }

  static deleteContent(id) {
    const history = this.getHistory().filter(item => item.id !== id);
    localStorage.setItem('content-history', JSON.stringify(history));
  }
}
```

### 2. Export Functionality

Create `lib/exportUtils.js`:

```javascript
export const exportUtils = {
  toMarkdown: (content, metadata) => {
    const frontmatter = `---
title: "${metadata.title || 'Generated Content'}"
type: "${metadata.type}"
created: "${metadata.createdAt}"
---

`;

    return frontmatter + content;
  },

  toHTML: (content, metadata) => {
    return `
<!DOCTYPE html>
<html>
<head>
    <title>${metadata.title || 'Generated Content'}</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        h1, h2, h3 { color: #333; }
        p { line-height: 1.6; }
    </style>
</head>
<body>
    ${content.replace(/\n/g, '<br>')}
</body>
</html>`;
  },

  toJSON: (content, metadata) => {
    return JSON.stringify({
      content,
      metadata: {
        ...metadata,
        exportedAt: new Date().toISOString()
      }
    }, null, 2);
  }
};
```

## Running the Application

### Start Development Server

```bash
npm run dev
```

### Test the Content Generator

1. Select a content type (Blog, Social, Marketing, Email)
2. Choose a template or write your own prompt
3. Add context like target audience and tone
4. Generate content and review the results
5. Try generating variations for different approaches
6. Export content in different formats

## Use Cases and Examples

### Blog Content Generation
- **How-to guides**: Step-by-step tutorials with code examples
- **Industry analysis**: Market trends and insights
- **Product reviews**: Detailed analysis with pros/cons
- **News articles**: Current event coverage

### Social Media Content
- **Twitter threads**: Educational content series
- **Instagram carousels**: Visual storytelling
- **LinkedIn articles**: Professional thought leadership
- **Facebook posts**: Community engagement

### Marketing Copy
- **Product launches**: Exciting announcements
- **Promotional campaigns**: Conversion-focused messaging
- **Email sequences**: Nurture campaign content
- **Landing pages**: High-converting copy

### Email Content
- **Newsletters**: Valuable content delivery
- **Promotional emails**: Special offers and deals
- **Welcome sequences**: Onboarding communication
- **Transactional emails**: Order confirmations

## Best Practices

### Content Quality
- **Be specific**: Clear, detailed prompts produce better results
- **Provide context**: Audience, tone, and purpose matter
- **Use templates**: Start with proven structures
- **Iterate**: Generate variations and refine

### SEO Considerations
- **Keywords**: Include relevant keywords naturally
- **Structure**: Use proper headings and formatting
- **Readability**: Keep content scannable and engaging
- **Length**: Match content to platform expectations

### Brand Consistency
- **Voice**: Maintain consistent brand voice
- **Style**: Follow brand guidelines
- **Quality**: Review and edit AI-generated content
- **Values**: Ensure content aligns with brand values

## Troubleshooting

### Common Issues

<AccordionGroup>
<Accordion title="Content Not Generating">
- Check API key configuration
- Verify internet connection
- Review prompt for clarity
- Check rate limits
</Accordion>

<Accordion title="Poor Content Quality">
- Make prompts more specific
- Add more context (audience, tone, purpose)
- Try different templates
- Use variations feature
</Accordion>

<Accordion title="Export Issues">
- Check browser permissions for downloads
- Verify content format requirements
- Clear browser cache if needed
</Accordion>
</AccordionGroup>

## Next Steps

<CardGroup cols={2}>
  <Card
    title="Advanced Streaming"
    icon="bolt"
    href="/guides/advanced/streaming-patterns"
  >
    Implement real-time content generation with streaming.
  </Card>
  <Card
    title="API Integration"
    icon="code"
    href="/guides/integrations/nextjs"
  >
    Integrate content generation into existing applications.
  </Card>
  <Card
    title="Batch Processing"
    icon="list"
    href="/guides/advanced/batch-processing"
  >
    Generate content at scale with batch processing.
  </Card>
  <Card
    title="Rate Limits"
    icon="gauge-high"
    href="/rate-limits"
  >
    Optimize for rate limits and cost efficiency.
  </Card>
</CardGroup>

<Note>
This content generator demonstrates the versatility of SundayPyjamas AI Suite for various content creation needs. Customize it further based on your specific requirements and brand guidelines.
</Note>
